(self.webpackChunkocr_text_scanner=self.webpackChunkocr_text_scanner||[]).push([[301],{9301:(l,m,i)=>{"use strict";i.r(m),i.d(m,{CmModule:()=>V});var u=i(6814),h=i(4225),g=i(5592),e=i(4946),c=i(8645),d=i(5619);let f=(()=>{class a{constructor(){this.imageCapture$=new c.x,this.showRecognition$=new d.X(!1),this.base64toBlob=t=>{const[n,o]=t.split(";base64,"),s=n.split(":")[1],p=atob(o),b=new Array(p.length);for(let S=0;S<p.length;S++)b[S]=p.charCodeAt(S);const _=new Uint8Array(b);return new Blob([_],{type:s})}}get imageCapture(){return this.imageCapture$.asObservable()}set imageCaptureData(t){this.imageCapture$.next(t)}get showRecognitionView(){return this.showRecognition$.asObservable()}set showRecognitionView(t){this.showRecognition$.next(t)}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var w=i(2982);function C(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",5)(1,"webcam",6),e.NdJ("imageCapture",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.captureImg(o))}),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("trigger",t.$trigger)("allowCameraSwitch",t.allowCameraSwitch)("switchCamera",t.nextWebcamObservable)}}function R(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",7)(1,"img",8,9),e.NdJ("load",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.imageLoad=!0)}),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("src",t.previewImage,e.LSH)}}let j=(()=>{class a{constructor(t){this._tesseractService=t,this.trigger=new c.x,this.nextWebcam=new c.x,this.pictureTaken=new e.vpe,this.allowCameraSwitch=!0,this.title="",this.btnCapture="",this.btnRecognize="",this.previewImage="",this.imageLoad=!1,this.checkPermission=!1,this.getSnapshot=()=>{this.imageLoad=!1,this.trigger.next(void 0)},this.captureImg=n=>{this.imageLoad=!0,this.previewImage=n.imageAsDataUrl,this.image=n},this.emitImage=()=>{this._tesseractService.showRecognitionView=!0,setTimeout(()=>{this._tesseractService.imageCaptureData=this.image.imageAsDataUrl},500)},this.checkPermissions=()=>{navigator.mediaDevices.getUserMedia({video:!0}).then(()=>{this.checkPermission=!0}).catch(n=>{this.checkPermission=!1,console.warn(n)})},this.title="Bring the identification document closer to the camera",this.btnCapture="Take a picture",this.btnRecognize="Recognize"}ngOnInit(){this.checkPermissions()}get $trigger(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(f))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-camera"]],outputs:{pictureTaken:"pictureTaken"},decls:10,vars:7,consts:[[1,"container-camera"],["class","content-camera",4,"ngIf"],["class","content-preview",4,"ngIf"],[1,"content-buttons"],[1,"button-capture",3,"disabled","click"],[1,"content-camera"],[3,"trigger","allowCameraSwitch","switchCamera","imageCapture"],[1,"content-preview"],["alt","Capture",3,"src","load"],["inputImage",""]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2),e.qZA(),e.YNc(3,C,2,3,"div",1),e.YNc(4,R,3,1,"div",2),e.TgZ(5,"div",3)(6,"button",4),e.NdJ("click",function(){return o.getSnapshot()}),e._uU(7),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return o.emitImage()}),e._uU(9),e.qZA()()()),2&n&&(e.xp6(2),e.Oqu(o.title),e.xp6(1),e.Q6J("ngIf",!o.imageLoad),e.xp6(1),e.Q6J("ngIf",o.imageLoad),e.xp6(2),e.Q6J("disabled",!o.checkPermission),e.xp6(1),e.hij(" ",o.imageLoad?o.btnCapture+" again":o.btnCapture," "),e.xp6(1),e.Q6J("disabled",!o.imageLoad),e.xp6(1),e.hij(" ",o.btnRecognize," "))},dependencies:[u.O5,w.i3],styles:[".container-camera[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}  video, img[_ngcontent-%COMP%]{border-radius:1%;box-shadow:#121212 0 0 0 1px,transparent 0 0 0 0}  video, video.mirrored[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{max-width:100%;height:auto}  .webcam-wrapper video.mirrored{transform:initial!important}.content-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:#0bdc12 0 0 0 1px,transparent 0 0 0 0}.content-buttons[_ngcontent-%COMP%]{text-align:center}.content-buttons[_ngcontent-%COMP%]   .button-capture[_ngcontent-%COMP%]{align-items:center;background-color:#fff;border-radius:12px;box-shadow:transparent 0 0 0 3px,#1212121a 0 6px 20px;box-sizing:border-box;color:#121212;cursor:pointer;font-family:Inter,sans-serif;font-size:1.2rem;font-weight:700;justify-content:center;line-height:1;outline:none;padding:1rem 1.2rem;text-align:center;text-decoration:none;transition:box-shadow .2s;white-space:nowrap;border:0;user-select:none;-webkit-user-select:none;touch-action:manipulation;margin:5px 12px}.content-buttons[_ngcontent-%COMP%]   .button-capture[_ngcontent-%COMP%]:hover{box-shadow:#121212 0 0 0 1px,transparent 0 0 0 0}.content-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled, .content-buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{color:#0003}"]})}return a})();function Z(a,r,t,n,o,s,p){try{var b=a[s](p),_=b.value}catch(S){return void t(S)}b.done?r(_):Promise.resolve(_).then(n,o)}function G(a){return function(){var r=this,t=arguments;return new Promise(function(n,o){var s=a.apply(r,t);function p(_){Z(s,n,o,p,b,"next",_)}function b(_){Z(s,n,o,p,b,"throw",_)}p(void 0)})}}var J=i(9773),M=i(5778),k=i(6805),B=i(2380);function O(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"img",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.removeResponse())}),e.qZA()}if(2&a){const t=e.oxw();e.s9C("src",t._icons.iconRemove,e.LSH)}}function x(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"div",4)(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"img",5),e.NdJ("click",function(){const s=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.copyText(s))}),e.qZA()(),e._UZ(5,"hr"),e.qZA()}if(2&a){const t=r.$implicit,n=e.oxw();e.xp6(3),e.hij(" ",t,""),e.xp6(1),e.s9C("src",n._icons.iconCopy,e.LSH)}}let E=(()=>{class a{constructor(t,n,o){var s=this;this._tesseractService=t,this._clipboardService=n,this._icons=o,this.destroy$=new c.x,this.workerProgress=0,this.workResult=[],this.workReady=!1,this.loadWorker=function(){var p=G(function*(b){const _=yield(0,M.recognize)(b,"spa",{logger:S=>{s.workerProgress=parseInt(""+100*S.progress)}});s.workResult=[...s.workResult,_.data.text],s.workReady=!0});return function(b){return p.apply(this,arguments)}}(),this.removeResponse=()=>{this.workResult=[],this.workerProgress=0},this.recognizeText=function(){var p=G(function*(b){const _=yield(0,M.createWorker)("spa",1,{logger:P=>{"recognizing text"==P.status&&(s.workerProgress=parseInt(""+100*P.progress))}}),{data:{text:S}}=yield _.recognize(b);s.workResult=[S,...s.workResult],s.workResult.length>3&&s.workResult.pop(),s.workReady=!0,yield _.terminate()});return function(b){return p.apply(this,arguments)}}(),this.copyText=p=>{this._clipboardService.copy(p)},this._tesseractService.imageCapture.pipe((0,J.R)(this.destroy$)).subscribe({next:p=>{const b=this._tesseractService.base64toBlob(p);this.recognizeText(b)}})}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(f),e.Y36(k.Yv),e.Y36(B.P))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-tesseract"]],decls:6,vars:3,consts:[[1,"container-tesseract"],["class","icon-remove","alt","Icon remove",3,"src","click",4,"ngIf"],[4,"ngFor","ngForOf"],["alt","Icon remove",1,"icon-remove",3,"src","click"],[1,"content-result"],["alt","Icon copy","title","Copy text!",1,"icon-copy",3,"src","click"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div")(2,"h2"),e._uU(3),e.qZA(),e.YNc(4,O,1,1,"img",1),e.qZA(),e.YNc(5,x,6,2,"div",2),e.qZA()),2&n&&(e.xp6(3),e.hij("Progress ",o.workerProgress,"%"),e.xp6(1),e.Q6J("ngIf",o.workerProgress>0),e.xp6(1),e.Q6J("ngForOf",o.workResult))},dependencies:[u.sg,u.O5],styles:[".container-tesseract[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(n+2){padding:24px 15px;color:#43555e}.container-tesseract[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){display:flex;flex-direction:row;justify-content:space-between;align-items:center}.container-tesseract[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#43555e;margin-top:5px}.content-result[_ngcontent-%COMP%]{display:flex}.icon-copy[_ngcontent-%COMP%], .icon-remove[_ngcontent-%COMP%]{height:24px;width:auto;cursor:pointer}"]})}return a})();function z(a,r){if(1&a&&(e.TgZ(0,"div",4),e._UZ(1,"img",5,6),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("src",t.fileSelected,e.LSH)("alt",t.fileSelected)}}function T(a,r){if(1&a&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.qZA()()),2&a){const t=e.oxw();e.xp6(2),e.Oqu(t.messsage)}}let N=(()=>{class a{constructor(t){this._tesseractService=t,this.title="",this.imageLoad=!1,this.fileSelected="",this.messsage="",this.onFileSelected=n=>{try{const o=n.target.files[0];o&&this.readImage(o)}catch(o){console.error(o),this.messsage="Error loading image"}},this.recognizeText=n=>{this._tesseractService.showRecognitionView=!0,setTimeout(()=>{this._tesseractService.imageCaptureData=n},500)},this.title="Select the image you want to upload"}readImage(t){const n=new FileReader;n.onload=o=>{this.fileSelected=n.result,this.imageLoad=!0,this.recognizeText(this.fileSelected)},n.onerror=o=>{console.warn(o),this.messsage="Error loading image"},n.readAsDataURL(t)}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(f))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-image-file"]],decls:6,vars:3,consts:[[1,"image-file"],["type","file","accept",".jpg,.jpeg,.png",3,"change"],["class","content-preview",4,"ngIf"],[4,"ngIf"],[1,"content-preview"],[3,"src","alt"],["inputImage",""]],template:function(n,o){1&n&&(e.TgZ(0,"h2"),e._uU(1),e.qZA(),e.TgZ(2,"div",0)(3,"input",1),e.NdJ("change",function(p){return o.onFileSelected(p)}),e.qZA()(),e.YNc(4,z,3,2,"div",2),e.YNc(5,T,3,1,"div",3)),2&n&&(e.xp6(1),e.Oqu(o.title),e.xp6(3),e.Q6J("ngIf",o.imageLoad),e.xp6(1),e.Q6J("ngIf",o.messsage))},dependencies:[u.O5],styles:[".image-file[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.image-file[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;border:1px solid #43555e;border-radius:5px;padding:8px 12px;outline:none;white-space:nowrap;cursor:pointer;text-shadow:1px 1px #fff;font-weight:700;font-size:10pt;width:100%}.content-preview[_ngcontent-%COMP%]{margin-top:20px;box-shadow:#0bdc12 0 0 0 1px,transparent 0 0 0 0;border-radius:5px}img[_ngcontent-%COMP%]{height:auto;width:100%;border-radius:5px}h2[_ngcontent-%COMP%]{text-align:center}"]})}return a})();function U(a,r){1&a&&e._UZ(0,"app-camera")}function F(a,r){1&a&&e._UZ(0,"app-image-file")}function K(a,r){1&a&&e._UZ(0,"app-tesseract")}const Q=[{path:"capture",component:(()=>{class a{constructor(t){this._tesseractService=t,this.bShowCameraCapture=!0,this.bShowImageCapture=!1,this.showRecognition=new g.y,this.showRecognition=t.showRecognitionView}showComponentCapture(){this.bShowCameraCapture=!this.bShowCameraCapture,this.bShowImageCapture=!this.bShowImageCapture,this._tesseractService.showRecognitionView=!1}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(f))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-capture"]],decls:11,vars:7,consts:[[1,"container-buttons"],[3,"ngClass","click"],[1,"container-components"],[1,"content-options"],[4,"ngIf"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return o.showComponentCapture()}),e._uU(2,"Camera"),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return o.showComponentCapture()}),e._uU(4,"Image"),e.qZA()(),e.TgZ(5,"div",2)(6,"div",3),e.YNc(7,U,1,0,"app-camera",4),e.YNc(8,F,1,0,"app-image-file",4),e.qZA(),e.YNc(9,K,1,0,"app-tesseract",4),e.ALo(10,"async"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngClass",o.bShowCameraCapture?"btn-selected":"btn-not-selected"),e.xp6(2),e.Q6J("ngClass",o.bShowCameraCapture?"btn-not-selected":"btn-selected"),e.xp6(4),e.Q6J("ngIf",o.bShowCameraCapture),e.xp6(1),e.Q6J("ngIf",o.bShowImageCapture),e.xp6(1),e.Q6J("ngIf",e.lcZ(10,5,o.showRecognition)))},dependencies:[u.mk,u.O5,j,E,N,u.Ov],styles:[".container-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;flex-direction:row;align-items:center;justify-content:center;width:100%;height:100%;color:#43555e;margin-top:20px}.container-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.8rem;margin:1.5vh 0;border:1px solid #43555e;background-color:#fff;color:#43555e;border-radius:5px;color:red}.container-buttons[_ngcontent-%COMP%]   .btn-selected[_ngcontent-%COMP%]{background-color:#43555e;color:#fff}.container-buttons[_ngcontent-%COMP%]   .btn-not-selected[_ngcontent-%COMP%]{background-color:#fff;color:#43555e}.container-components[_ngcontent-%COMP%]{margin:20px auto;display:grid;row-gap:.8em;column-gap:2rem;grid-template-columns:repeat(auto-fit,minmax(24rem,1fr));grid-template-rows:1fr;width:80%}.container-components[_ngcontent-%COMP%]   .container-options[_ngcontent-%COMP%]{margin:2vmin auto;height:70vh;width:80vw}@media screen and (max-width: 700px){.container-components[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]})}return a})()},{path:"**",redirectTo:"capture",pathMatch:"full"}];let $=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#n=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(Q),h.Bz]})}return a})();var W=i(822);let V=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.oAB({type:a});static#n=this.\u0275inj=e.cJS({imports:[u.ez,$,W.K]})}return a})()},1833:l=>{l.exports=function m(){return!!(typeof window<"u"&&"object"==typeof window.process&&"renderer"===window.process.type||typeof process<"u"&&"object"==typeof process.versions&&process.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}},7303:l=>{var m=function(i){"use strict";var e,u=Object.prototype,h=u.hasOwnProperty,g=Object.defineProperty||function(r,t,n){r[t]=n.value},c="function"==typeof Symbol?Symbol:{},d=c.iterator||"@@iterator",f=c.asyncIterator||"@@asyncIterator",w=c.toStringTag||"@@toStringTag";function C(r,t,n){return Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),r[t]}try{C({},"")}catch{C=function(t,n,o){return t[n]=o}}function R(r,t,n,o){var p=Object.create((t&&t.prototype instanceof B?t:B).prototype),b=new W(o||[]);return g(p,"_invoke",{value:K(r,n,b)}),p}function j(r,t,n){try{return{type:"normal",arg:r.call(t,n)}}catch(o){return{type:"throw",arg:o}}}i.wrap=R;var Z="suspendedStart",G="suspendedYield",J="executing",M="completed",k={};function B(){}function O(){}function x(){}var E={};C(E,d,function(){return this});var z=Object.getPrototypeOf,T=z&&z(z(V([])));T&&T!==u&&h.call(T,d)&&(E=T);var N=x.prototype=B.prototype=Object.create(E);function U(r){["next","throw","return"].forEach(function(t){C(r,t,function(n){return this._invoke(t,n)})})}function F(r,t){function n(p,b,_,S){var P=j(r[p],r,b);if("throw"!==P.type){var q=P.arg,H=q.value;return H&&"object"==typeof H&&h.call(H,"__await")?t.resolve(H.__await).then(function(D){n("next",D,_,S)},function(D){n("throw",D,_,S)}):t.resolve(H).then(function(D){q.value=D,_(q)},function(D){return n("throw",D,_,S)})}S(P.arg)}var o;g(this,"_invoke",{value:function s(p,b){function _(){return new t(function(S,P){n(p,b,S,P)})}return o=o?o.then(_,_):_()}})}function K(r,t,n){var o=Z;return function(p,b){if(o===J)throw new Error("Generator is already running");if(o===M){if("throw"===p)throw b;return a()}for(n.method=p,n.arg=b;;){var _=n.delegate;if(_){var S=X(_,n);if(S){if(S===k)continue;return S}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===Z)throw o=M,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=J;var P=j(r,t,n);if("normal"===P.type){if(o=n.done?M:G,P.arg===k)continue;return{value:P.arg,done:n.done}}"throw"===P.type&&(o=M,n.method="throw",n.arg=P.arg)}}}function X(r,t){var n=t.method,o=r.iterator[n];if(o===e)return t.delegate=null,"throw"===n&&r.iterator.return&&(t.method="return",t.arg=e,X(r,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),k;var s=j(o,r.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,k;var p=s.arg;return p?p.done?(t[r.resultName]=p.value,t.next=r.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,k):p:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,k)}function Q(r){var t={tryLoc:r[0]};1 in r&&(t.catchLoc=r[1]),2 in r&&(t.finallyLoc=r[2],t.afterLoc=r[3]),this.tryEntries.push(t)}function $(r){var t=r.completion||{};t.type="normal",delete t.arg,r.completion=t}function W(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(Q,this),this.reset(!0)}function V(r){if(r){var t=r[d];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var n=-1,o=function s(){for(;++n<r.length;)if(h.call(r,n))return s.value=r[n],s.done=!1,s;return s.value=e,s.done=!0,s};return o.next=o}}return{next:a}}function a(){return{value:e,done:!0}}return O.prototype=x,g(N,"constructor",{value:x,configurable:!0}),g(x,"constructor",{value:O,configurable:!0}),O.displayName=C(x,w,"GeneratorFunction"),i.isGeneratorFunction=function(r){var t="function"==typeof r&&r.constructor;return!!t&&(t===O||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,x):(r.__proto__=x,C(r,w,"GeneratorFunction")),r.prototype=Object.create(N),r},i.awrap=function(r){return{__await:r}},U(F.prototype),C(F.prototype,f,function(){return this}),i.AsyncIterator=F,i.async=function(r,t,n,o,s){void 0===s&&(s=Promise);var p=new F(R(r,t,n,o),s);return i.isGeneratorFunction(t)?p:p.next().then(function(b){return b.done?b.value:p.next()})},U(N),C(N,w,"Generator"),C(N,d,function(){return this}),C(N,"toString",function(){return"[object Generator]"}),i.keys=function(r){var t=Object(r),n=[];for(var o in t)n.push(o);return n.reverse(),function s(){for(;n.length;){var p=n.pop();if(p in t)return s.value=p,s.done=!1,s}return s.done=!0,s}},i.values=V,W.prototype={constructor:W,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach($),!r)for(var t in this)"t"===t.charAt(0)&&h.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function n(S,P){return p.type="throw",p.arg=r,t.next=S,P&&(t.method="next",t.arg=e),!!P}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],p=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var b=h.call(s,"catchLoc"),_=h.call(s,"finallyLoc");if(b&&_){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(b){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!_)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(r,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&h.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===r||"continue"===r)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var p=s?s.completion:{};return p.type=r,p.arg=t,s?(this.method="next",this.next=s.finallyLoc,k):this.complete(p)},complete:function(r,t){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&t&&(this.next=t),k},finish:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===r)return this.complete(n.completion,n.afterLoc),$(n),k}},catch:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===r){var o=n.completion;if("throw"===o.type){var s=o.arg;$(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(r,t,n){return this.delegate={iterator:V(r),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=e),k}},i}(l.exports);try{regeneratorRuntime=m}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=m:Function("r","regeneratorRuntime = r")(m)}},3843:(l,m,i)=>{var u=i(7156).default;const h=i(4178);l.exports={recognize:function(){var c=u(function*(d,f,w){const C=yield h(f,1,w);return C.recognize(d).finally(u(function*(){yield C.terminate()}))});return function(f,w,C){return c.apply(this,arguments)}}(),detect:function(){var c=u(function*(d,f){const w=yield h("osd",0,f);return w.detect(d).finally(u(function*(){yield w.terminate()}))});return function(f,w){return c.apply(this,arguments)}}()}},4147:l=>{l.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},5055:l=>{l.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},8988:l=>{l.exports={workerBlobURL:!0,logger:()=>{}}},9504:l=>{l.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},2447:(l,m,i)=>{const u=i(240);let h=0;l.exports=({id:g,action:e,payload:c={}})=>{let d=g;return typeof d>"u"&&(d=u("Job",h),h+=1),{id:d,action:e,payload:c}}},8890:function(l,m,i){var u=i(7156).default,h=this;const g=i(2447),{log:e}=i(8002),c=i(240);let d=0;l.exports=()=>{const f=c("Scheduler",d),w={},C={};let R=[];d+=1;const Z=()=>Object.keys(w).length,G=()=>{if(0!==R.length){const O=Object.keys(w);for(let x=0;x<O.length;x+=1)if(typeof C[O[x]]>"u"){R[0](w[O[x]]);break}}},J=(O,x)=>new Promise((E,z)=>{const T=g({action:O,payload:x});R.push(function(){var N=u(function*(U){R.shift(),C[U.id]=T;try{E(yield U[O].apply(h,[...x,T.id]))}catch(F){z(F)}finally{delete C[U.id],G()}});return function(U){return N.apply(this,arguments)}}()),e(`[${f}]: Add ${T.id} to JobQueue`),e(`[${f}]: JobQueue length=${R.length}`),G()});return{addWorker:O=>(w[O.id]=O,e(`[${f}]: Add ${O.id}`),e(`[${f}]: Number of workers=${Z()}`),G(),O.id),addJob:function(){var O=u(function*(x,...E){if(0===Z())throw Error(`[${f}]: You need to have at least one worker before adding jobs`);return J(x,E)});return function(E){return O.apply(this,arguments)}}(),terminate:function(){var O=u(function*(){Object.keys(w).forEach(function(){var x=u(function*(E){yield w[E].terminate()});return function(E){return x.apply(this,arguments)}}()),R=[]});return function(){return O.apply(this,arguments)}}(),getQueueLen:()=>R.length,getNumWorkers:Z}}},4178:(l,m,i)=>{var u=i(7156).default;const h=i(9380),g=i(7793),e=i(2447),{log:c}=i(8002),d=i(240),f=i(4147),{defaultOptions:w,spawnWorker:C,terminateWorker:R,onMessage:j,loadImage:Z,send:G}=i(3312);let J=0;l.exports=u(function*(M="eng",k=f.LSTM_ONLY,B={},O={}){const x=d("Worker",J),{logger:E,errorHandler:z,...T}=h({...w,...B}),N={},U={},F="string"==typeof M?M.split("+"):M;let K=k,X=O;const Q=[f.DEFAULT,f.LSTM_ONLY].includes(k)&&!T.legacyCore;let $,W;const V=new Promise((v,y)=>{W=v,$=y});let r=C(T);r.onerror=v=>{$(v.message)},J+=1;const t=(v,y)=>{N[v]=y},n=(v,y)=>{U[v]=y},o=({id:v,action:y,payload:L})=>new Promise((I,A)=>{c(`[${x}]: Start ${v}, action=${y}`);const Y=`${y}-${v}`;t(Y,I),n(Y,A),G(r,{workerId:x,jobId:v,action:y,payload:L})}),H=(v,y)=>o(e({id:y,action:"loadLanguage",payload:{langs:v,options:{langPath:T.langPath,dataPath:T.dataPath,cachePath:T.cachePath,cacheMethod:T.cacheMethod,gzip:T.gzip,lstmOnly:[f.LSTM_ONLY,f.TESSERACT_LSTM_COMBINED].includes(K)&&!T.legacyLang}}})),te=(v,y,L,I)=>o(e({id:I,action:"initialize",payload:{langs:v,oem:y,config:L}})),ie=function(){var v=u(function*(y,L={},I={blocks:!0,text:!0,hocr:!0,tsv:!0},A){return o(e({id:A,action:"recognize",payload:{image:yield Z(y),options:L,output:I}}))});return function(L){return v.apply(this,arguments)}}(),ae=function(){var v=u(function*(y,L){if(Q)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return o(e({id:L,action:"detect",payload:{image:yield Z(y)}}))});return function(L,I){return v.apply(this,arguments)}}(),ce=function(){var v=u(function*(){return null!==r&&(R(r),r=null),Promise.resolve()});return function(){return v.apply(this,arguments)}}();j(r,({workerId:v,jobId:y,status:L,action:I,data:A})=>{const Y=`${I}-${y}`;if("resolve"===L){c(`[${v}]: Complete ${y}`);let ee=A;"recognize"===I?ee=g(A):"getPDF"===I&&(ee=Array.from({...A,length:Object.keys(A).length})),N[Y]({jobId:y,data:ee})}else if("reject"===L){if(U[Y](A),"load"===I&&$(A),!z)throw Error(A);z(A)}else"progress"===L&&E({...A,userJobId:y})});const ue={id:x,worker:r,setResolve:t,setReject:n,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(v,y,L)=>o(e({id:L,action:"FS",payload:{method:"writeFile",args:[v,y]}})),readText:(v,y)=>o(e({id:y,action:"FS",payload:{method:"readFile",args:[v,{encoding:"utf8"}]}})),removeFile:(v,y)=>o(e({id:y,action:"FS",payload:{method:"unlink",args:[v]}})),FS:(v,y,L)=>o(e({id:L,action:"FS",payload:{method:v,args:y}})),loadLanguage:()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),initialize:()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),reinitialize:(v="eng",y,L,I)=>{if(Q&&[f.TESSERACT_ONLY,f.TESSERACT_LSTM_COMBINED].includes(y))throw Error("Legacy model requested but code missing.");const A=y||K;K=A;const Y=L||X;X=Y;const ne=("string"==typeof v?v.split("+"):v).filter(le=>!F.includes(le));return F.push(...ne),ne.length>0?H(ne,I).then(()=>te(v,A,Y,I)):te(v,A,Y,I)},setParameters:(v={},y)=>o(e({id:y,action:"setParameters",payload:{params:v}})),recognize:ie,getPDF:(v="Tesseract OCR Result",y=!1,L)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),o(e({id:L,action:"getPDF",payload:{title:v,textonly:y}}))),detect:ae,terminate:ce};return o(e({id:undefined,action:"load",payload:{options:{lstmOnly:Q,corePath:T.corePath,logging:T.logging}}})).then(()=>H(M)).then(()=>te(M,k,O)).then(()=>W(ue)).catch(()=>{}),V})},5778:(l,m,i)=>{i(7303);const u=i(8890),h=i(4178),g=i(3843),e=i(9504),c=i(4147),d=i(5055),{setLogging:f}=i(8002);l.exports={languages:e,OEM:c,PSM:d,createScheduler:u,createWorker:h,setLogging:f,...g}},7793:l=>{l.exports=m=>{const i=[],u=[],h=[],g=[],e=[];return m.blocks&&m.blocks.forEach(c=>{c.paragraphs.forEach(d=>{d.lines.forEach(f=>{f.words.forEach(w=>{w.symbols.forEach(C=>{e.push({...C,page:m,block:c,paragraph:d,line:f,word:w})}),g.push({...w,page:m,block:c,paragraph:d,line:f})}),h.push({...f,page:m,block:c,paragraph:d})}),u.push({...d,page:m,block:c})}),i.push({...c,page:m})}),{...m,blocks:i,paragraphs:u,lines:h,words:g,symbols:e}}},6648:(l,m,i)=>{const u=i(1833);l.exports=h=>{const g={};return typeof WorkerGlobalScope<"u"?g.type="webworker":u()?g.type="electron":"object"==typeof document?g.type="browser":"object"==typeof process&&(g.type="node"),typeof h>"u"?g:g[h]}},240:l=>{l.exports=(m,i)=>`${m}-${i}-${Math.random().toString(16).slice(3,8)}`},8002:function(l,m){let i=!1;m.logging=i,m.setLogging=u=>{i=u},m.log=(...u)=>i?console.log.apply(this,u):null},9380:(l,m,i)=>{const h="browser"===i(6648)("type")?g=>new URL(g,window.location.href).href:g=>g;l.exports=g=>{const e={...g};return["corePath","workerPath","langPath"].forEach(c=>{g[c]&&(e[c]=h(e[c]))}),e}},3001:(l,m,i)=>{const u=i(4547).i8,h=i(8988);l.exports={...h,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${u}/dist/worker.min.js`}},3312:(l,m,i)=>{const u=i(3001),h=i(9383),g=i(4917),e=i(7671),c=i(8782),d=i(2156);l.exports={defaultOptions:u,spawnWorker:h,terminateWorker:g,onMessage:e,send:c,loadImage:d}},2156:(l,m,i)=>{var u=i(7156).default;const h=e=>new Promise((c,d)=>{const f=new FileReader;f.onload=()=>{c(f.result)},f.onerror=({target:{error:{code:w}}})=>{d(Error(`File could not be read! Code=${w}`))},f.readAsArrayBuffer(e)}),g=function(){var e=u(function*(c){let d=c;if(typeof c>"u")return"undefined";if("string"==typeof c)d=/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(c)?atob(c.split(",")[1]).split("").map(f=>f.charCodeAt(0)):yield(yield fetch(c)).arrayBuffer();else if(typeof HTMLElement<"u"&&c instanceof HTMLElement)"IMG"===c.tagName&&(d=yield g(c.src)),"VIDEO"===c.tagName&&(d=yield g(c.poster)),"CANVAS"===c.tagName&&(yield new Promise(f=>{c.toBlob(function(){var w=u(function*(C){d=yield h(C),f()});return function(C){return w.apply(this,arguments)}}())}));else if(typeof OffscreenCanvas<"u"&&c instanceof OffscreenCanvas){const f=yield c.convertToBlob();d=yield h(f)}else(c instanceof File||c instanceof Blob)&&(d=yield h(c));return new Uint8Array(d)});return function(d){return e.apply(this,arguments)}}();l.exports=g},7671:l=>{l.exports=(m,i)=>{m.onmessage=({data:u})=>{i(u)}}},8782:(l,m,i)=>{var u=i(7156).default;l.exports=function(){var h=u(function*(g,e){g.postMessage(e)});return function(g,e){return h.apply(this,arguments)}}()},9383:l=>{l.exports=({workerPath:m,workerBlobURL:i})=>{let u;if(Blob&&URL&&i){const h=new Blob([`importScripts("${m}");`],{type:"application/javascript"});u=new Worker(URL.createObjectURL(h))}else u=new Worker(m);return u}},4917:l=>{l.exports=m=>{m.terminate()}},7156:l=>{function m(u,h,g,e,c,d,f){try{var w=u[d](f),C=w.value}catch(R){return void g(R)}w.done?h(C):Promise.resolve(C).then(e,c)}l.exports=function i(u){return function(){var h=this,g=arguments;return new Promise(function(e,c){var d=u.apply(h,g);function f(C){m(d,e,c,f,w,"next",C)}function w(C){m(d,e,c,f,w,"throw",C)}f(void 0)})}},l.exports.__esModule=!0,l.exports.default=l.exports},4547:l=>{"use strict";l.exports={i8:"5.0.5"}}}]);